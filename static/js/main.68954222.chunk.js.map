{"version":3,"sources":["collection/index.ts","bookmark/index.ts","form/index.tsx","BookmarkForm.tsx","BookmarkView.tsx","storage/index.ts","storage/file-system-storage.ts","App.tsx","reportWebVitals.ts","storage/local-storage.ts","index.tsx"],"names":["unique","map","xs","memo","Set","x","has","add","f","fn","createBookmark","name","url","description","tags","date","Date","toISOString","id","nanoid","toLowerCase","Array","from","createdAt","updatedAt","Form","props","initialValues","onSubmit","validate","render","handleSubmit","children","Field","input","meta","isRequired","isInvalid","touched","error","label","validateNewBookmarkForm","form","errors","trim","length","BookmarkForm","title","bookmark","isOpen","onClose","initialFocusRef","useRef","join","values","vals","split","filter","Boolean","updates","updateBookmark","ref","mr","onClick","colorScheme","type","CreateBookmarkButton","onBookmarkCreate","useDisclosure","onOpen","aria-label","icon","Add","EditBookmarkButton","onBookmarkUpdate","Edit","getFaviconUrl","uri","URL","origin","Favicon","useState","ready","setReady","image","Image","useEffect","cancelled","current","src","onload","background","width","height","rounded","display","justifyContent","alignItems","boxSize","alt","transition","opacity","Number","BookmarkView","onBookmarkDelete","border","borderColor","borderRadius","px","py","justify","isExternal","href","as","size","ml","mb","tag","Delete","getInitialState","version","bookmarks","UPGRADES","0","state","forEach","upgradeState","saveToFile","a","handle","blob","Blob","JSON","stringify","fileSave","fileName","extensions","fileHandle","loadFromFile","fileOpen","text","parse","appReducer","action","concat","payload","updatedBookmarkIndex","findIndex","b","updatedBookmarks","slice","App","storageProvider","initialState","onStateChange","useReducer","dispatch","setFilterValue","setFileHandle","autoSaveIsEnabled","setAutoSaveEnabled","toast","useToast","setTimeout","clearTimeout","catch","ex","code","DOMException","ABORT_ERR","message","status","isClosable","sortedBookmarks","useMemo","matchSorter","sort","keys","file","result","duration","FaFileAlt","FaFileDownload","in","animateOpacity","pb","checked","onChange","e","target","placeholder","value","mt","textAlign","color","spacing","align","GoMarkGithub","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","LS_KEY","localStorageProvider","getState","strState","localStorage","getItem","setState","setItem","storageManager","stateFromStorage","upgradedState","customTheme","extendTheme","config","useSystemColorMode","ReactDOM","theme","document","getElementById","window","setTestBookmarks","myBookmarks","location","reload"],"mappings":"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","file":"static/js/main.68954222.chunk.js","sourcesContent":["export function* unique<T>(xs: Iterable<T>): Iterable<T> {\n  const memo = new Set();\n  for (const x of xs) {\n    if (memo.has(x)) {\n      continue;\n    }\n    yield x;\n    memo.add(x);\n  }\n}\n\nexport function* map<T, R>(fn: (x: T) => R, xs: Iterable<T>): Iterable<R> {\n  for (const x of xs) {\n    yield fn(x);\n  }\n}\n\nexport function toArray<T>(xs: Iterable<T>): Array<T> {\n  return Array.from(xs);\n}\n","import { nanoid } from \"nanoid\";\n\nimport { map, toArray, unique } from \"../collection\";\n\nexport type BookmarkId = string & { __type__: \"BookmarkId\" };\nfunction getBookmarkId() {\n  return nanoid() as BookmarkId;\n}\n\nexport type BookmarkType = {\n  id: BookmarkId;\n  name: string;\n  url: string;\n  description: string;\n  tags: string[];\n  createdAt: string;\n  updatedAt: string;\n};\n\nexport type CreateBookmarkPayload = {\n  name: string;\n  url: string;\n  description?: string;\n  tags?: string[];\n};\n\nexport function createBookmark({\n  name,\n  url,\n  description = \"\",\n  tags = [],\n}: CreateBookmarkPayload): BookmarkType {\n  const date = new Date().toISOString();\n  return {\n    id: getBookmarkId(),\n    url,\n    name,\n    description,\n    tags: toArray(unique(map((x) => x.toLowerCase(), tags))),\n    createdAt: date,\n    updatedAt: date,\n  };\n}\n\nexport function updateBookmark(\n  bookmark: BookmarkType,\n  updates: Omit<Partial<BookmarkType>, \"id\" | \"createdAt\" | \"updatedAt\">\n) {\n  return {\n    ...bookmark,\n    ...updates,\n    updatedAt: new Date().toISOString(),\n  };\n}\n","import {\n  FormControl,\n  FormErrorIcon,\n  FormErrorMessage,\n  FormLabel,\n} from \"@chakra-ui/react\";\nimport React, { ReactNode } from \"react\";\nimport { Field as FinalField, Form as FinalForm } from \"react-final-form\";\n\nexport interface FormProps<T> {\n  initialValues: T;\n  validate?(values: T): Partial<Record<keyof T, string>>;\n  onSubmit(values: T): void;\n  children: ReactNode;\n}\n\ntype FilterStrings<UnionType> = UnionType extends string ? UnionType : never;\n\nexport interface FieldProps<\n  TValues,\n  TName extends FilterStrings<keyof TValues>,\n  TElement extends HTMLElement\n> {\n  name: TName;\n  isRequired?: boolean;\n  id?: string;\n  label: string;\n  render(input: FieldInputProps<TValues[TName], TElement>): ReactNode;\n}\n\ninterface FieldInputProps<FieldValue, ElementType extends HTMLElement> {\n  name: string;\n  onBlur: (event?: React.FocusEvent<ElementType>) => void;\n  onChange: (event: React.ChangeEvent<ElementType> | any) => void;\n  onFocus: (event?: React.FocusEvent<ElementType>) => void;\n  type?: string;\n  value: FieldValue;\n  checked?: boolean;\n  multiple?: boolean;\n}\n\nexport function createForm<FormValuesType>() {\n  function Form(props: FormProps<FormValuesType>) {\n    return (\n      <FinalForm<FormValuesType>\n        initialValues={props.initialValues}\n        onSubmit={props.onSubmit}\n        validate={props.validate}\n        render={({ handleSubmit }) => (\n          <form onSubmit={handleSubmit}>{props.children}</form>\n        )}\n      />\n    );\n  }\n\n  function Field<\n    TName extends FilterStrings<keyof FormValuesType>,\n    TElement extends HTMLElement = HTMLElement\n  >(props: FieldProps<FormValuesType, TName, TElement>) {\n    return (\n      <FinalField<FormValuesType[typeof props[\"name\"]]>\n        name={props.name}\n        render={({ input, meta }) => (\n          <FormControl\n            id={props.id}\n            isRequired={props.isRequired}\n            isInvalid={meta.touched && meta.error}\n          >\n            <FormLabel>{props.label}</FormLabel>\n            {props.render(input)}\n            <FormErrorMessage>\n              <FormErrorIcon /> {meta.error}\n            </FormErrorMessage>\n          </FormControl>\n        )}\n      />\n    );\n  }\n\n  return { Form, Field };\n}\n","import { AddIcon, EditIcon } from \"@chakra-ui/icons\";\nimport {\n  Button,\n  IconButton,\n  Input,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Textarea,\n  useDisclosure,\n  VStack,\n} from \"@chakra-ui/react\";\nimport React, { useRef } from \"react\";\n\nimport { BookmarkType, createBookmark, updateBookmark } from \"./bookmark\";\nimport { createForm } from \"./form\";\n\ntype CreateBookmarkFormPayload = {\n  name: string;\n  url: string;\n  description: string;\n  tags: string;\n};\n\nconst { Form, Field } = createForm<CreateBookmarkFormPayload>();\n\nfunction validateNewBookmarkForm(form: CreateBookmarkFormPayload) {\n  const errors = {} as Partial<Record<keyof typeof form, string>>;\n  if ((form.name?.trim() || \"\").length === 0) {\n    errors.name = \"Name can not be empty\";\n  }\n  if ((form.url?.trim() || \"\").length === 0) {\n    errors.url = \"URL can not be empty\";\n  }\n  return errors;\n}\n\nexport function BookmarkForm({\n  title,\n  bookmark,\n  isOpen,\n  onClose,\n  onSubmit,\n}: {\n  title: string;\n  bookmark?: BookmarkType;\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (bookmark: BookmarkType) => void;\n}) {\n  const initialFocusRef = useRef<HTMLInputElement>(null);\n\n  function handleSubmit(values: CreateBookmarkFormPayload): void {\n    const vals = {\n      name: values.name,\n      description: values.description,\n      url: values.url,\n      tags: values.tags.split(/[\\s,]+/).filter(Boolean),\n    };\n    onSubmit(bookmark ? updateBookmark(bookmark, vals) : createBookmark(vals));\n    onClose();\n  }\n\n  const initialValues = {\n    description: bookmark?.description ?? \"\",\n    name: bookmark?.name ?? \"\",\n    tags: bookmark?.tags.join(\", \") ?? \"\",\n    url: bookmark?.url ?? \"\",\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose}>\n      <ModalOverlay />\n      <Form\n        onSubmit={handleSubmit}\n        initialValues={initialValues}\n        validate={validateNewBookmarkForm}\n      >\n        <ModalContent>\n          <ModalHeader>{title}</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n            <VStack>\n              <Field\n                name=\"name\"\n                label=\"Name\"\n                id=\"bookmark-name\"\n                isRequired\n                render={(input) => <Input ref={initialFocusRef} {...input} />}\n              />\n              <Field\n                name=\"url\"\n                label=\"URL\"\n                id=\"bookmark-url\"\n                isRequired\n                render={(input) => <Input {...input} />}\n              />\n              <Field\n                name=\"description\"\n                label=\"Description\"\n                id=\"bookmark-description\"\n                render={(input) => <Textarea {...input} />}\n              />\n              <Field\n                name=\"tags\"\n                label=\"Tags\"\n                id=\"bookmark-tags\"\n                render={(input) => <Textarea {...input} />}\n              />\n            </VStack>\n          </ModalBody>\n          <ModalFooter>\n            <Button mr={3} onClick={onClose}>\n              Cancel\n            </Button>\n            <Button colorScheme=\"blue\" type=\"submit\">\n              Save\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Form>\n    </Modal>\n  );\n}\n\nexport function CreateBookmarkButton({\n  onBookmarkCreate,\n}: {\n  onBookmarkCreate: (bookmark: BookmarkType) => void;\n}) {\n  const { onClose, onOpen, isOpen } = useDisclosure();\n\n  return (\n    <>\n      <IconButton\n        aria-label=\"New bookmakr\"\n        icon={<AddIcon />}\n        onClick={onOpen}\n      />\n      <BookmarkForm\n        title=\"New bookmark\"\n        onClose={onClose}\n        isOpen={isOpen}\n        onSubmit={onBookmarkCreate}\n      />\n    </>\n  );\n}\n\nexport function EditBookmarkButton({\n  bookmark,\n  onBookmarkUpdate,\n}: {\n  bookmark: BookmarkType;\n  onBookmarkUpdate: (bookmark: BookmarkType) => void;\n}) {\n  const { onClose, onOpen, isOpen } = useDisclosure();\n\n  return (\n    <>\n      <IconButton\n        aria-label=\"New bookmakr\"\n        icon={<EditIcon />}\n        onClick={onOpen}\n      />\n      <BookmarkForm\n        title=\"Edit bookmark\"\n        bookmark={bookmark}\n        onClose={onClose}\n        isOpen={isOpen}\n        onSubmit={onBookmarkUpdate}\n      />\n    </>\n  );\n}\n","import { DeleteIcon } from \"@chakra-ui/icons\";\nimport {\n  Box,\n  Button,\n  Flex,\n  Heading,\n  HStack,\n  IconButton,\n  Image as ChakraImage,\n  Link,\n  Modal,\n  ModalBody,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Tag,\n  Text,\n  useDisclosure,\n  VStack,\n} from \"@chakra-ui/react\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { BookmarkId, BookmarkType } from \"./bookmark\";\nimport { EditBookmarkButton } from \"./BookmarkForm\";\n\nfunction getFaviconUrl(uri: string) {\n  const url = new URL(uri);\n  return `${url.origin}/favicon.ico`;\n}\n\nfunction Favicon({ url }: { url: string }) {\n  const [ready, setReady] = useState(false);\n  const image = useRef(new Image());\n\n  useEffect(() => {\n    let cancelled = false;\n    image.current.src = url;\n    image.current.onload = () => {\n      if (!cancelled) setReady(true);\n    };\n    return () => {\n      setReady(false);\n      cancelled = true;\n    };\n  }, [url]);\n\n  return (\n    <Box\n      background=\"gray.50\"\n      width=\"24px\"\n      height=\"24px\"\n      rounded=\"full\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <ChakraImage\n        boxSize=\"16px\"\n        src={url}\n        alt=\"Favicon\"\n        transition=\"opacity 0.2s ease-in\"\n        opacity={Number(ready)}\n      />\n    </Box>\n  );\n}\n\nexport function BookmarkView({\n  bookmark,\n  onBookmarkUpdate,\n  onBookmarkDelete,\n}: {\n  bookmark: BookmarkType;\n  onBookmarkUpdate: React.ComponentProps<\n    typeof EditBookmarkButton\n  >[\"onBookmarkUpdate\"];\n  onBookmarkDelete: (id: BookmarkId) => void;\n}) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  return (\n    <Box border=\"1px\" borderColor=\"gray.200\" borderRadius={8} px={4} py={2}>\n      <Flex justify=\"space-between\">\n        <Box>\n          <Link isExternal href={bookmark.url}>\n            <Heading as=\"h3\" size=\"m\" display=\"flex\" alignItems=\"center\">\n              <Favicon url={getFaviconUrl(bookmark.url)} />\n              <Box ml={2}>{bookmark.name}</Box>\n            </Heading>\n          </Link>\n          <Text mb={1}>{bookmark.description}</Text>\n          <HStack>\n            {bookmark.tags.map((tag) => (\n              <Tag key={tag} size=\"sm\">\n                {tag}\n              </Tag>\n            ))}\n          </HStack>\n        </Box>\n        <VStack>\n          <EditBookmarkButton\n            bookmark={bookmark}\n            onBookmarkUpdate={onBookmarkUpdate}\n          />\n          <IconButton\n            aria-label=\"Delete bookmark\"\n            icon={<DeleteIcon />}\n            onClick={onOpen}\n          />\n        </VStack>\n      </Flex>\n      <Modal onClose={onClose} isOpen={isOpen}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Are you sure?</ModalHeader>\n          <ModalBody>\n            Deleting bookmark: <strong>{bookmark.name}</strong>\n          </ModalBody>\n          <ModalFooter>\n            <Button onClick={onClose} mr={3}>\n              Cancel\n            </Button>\n            <Button\n              colorScheme=\"red\"\n              onClick={() => {\n                onBookmarkDelete(bookmark.id);\n                onClose();\n              }}\n            >\n              Delete\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </Box>\n  );\n}\n","import { BookmarkType } from \"../bookmark\";\n\nexport const APP_VERSION = 1;\n\nexport interface IStorageProvider {\n  getState(): Promise<AppState>;\n  setState(state: AppState): void;\n}\n\nexport interface AppState {\n  version: number;\n  bookmarks: BookmarkType[];\n}\n\nexport function getInitialState(version: number = APP_VERSION): AppState {\n  return {\n    version,\n    bookmarks: [],\n  };\n}\n\nexport interface IStorageManager {\n  getState(): Promise<AppState>;\n  setState(state: AppState): void;\n}\n\nexport function createStorageManager(\n  storageProvider: IStorageProvider\n): IStorageManager {\n  return {\n    async getState() {\n      try {\n        const stateFromStorage = await storageProvider.getState();\n        if (stateFromStorage.version !== APP_VERSION) {\n          const upgradedState = upgradeState(stateFromStorage);\n          storageProvider.setState(upgradedState);\n          return upgradedState;\n        }\n        return stateFromStorage;\n      } catch (ex) {\n        return getInitialState(APP_VERSION);\n      }\n    },\n    setState(state) {\n      storageProvider.setState(state);\n    },\n  };\n}\n\ntype StateUpdate = (state: AppState) => AppState;\n\nconst UPGRADES: Record<number, StateUpdate> = {\n  0: (state: AppState) => {\n    state.bookmarks.forEach((bookmark) => {\n      const date = new Date().toISOString();\n      bookmark.createdAt = bookmark.updatedAt = date;\n    });\n    state.version = 1;\n    return state;\n  },\n};\n\nexport function upgradeState(state: AppState): AppState {\n  while (state.version !== APP_VERSION) {\n    const version = Number(state.version ?? 0);\n    if (version in UPGRADES) {\n      state = UPGRADES[version](state);\n    } else {\n      state = getInitialState(APP_VERSION);\n    }\n  }\n  return state;\n}\n","import { fileOpen, fileSave, FileSystemHandle } from \"browser-nativefs\";\n\nimport { AppState, upgradeState } from \"./index\";\n\nexport async function saveToFile(\n  state: AppState,\n  name: string = \"Untitled\",\n  handle?: FileSystemHandle\n) {\n  const blob = new Blob([JSON.stringify(state)], {\n    type: \"application/json\",\n  });\n  const fileHandle = await fileSave(\n    blob,\n    {\n      fileName: name,\n      description: \"My bookmarks file\",\n      extensions: [\".mbms\"],\n    },\n    handle\n  );\n  return { fileHandle };\n}\n\nexport type LoadedFile = {\n  state: AppState;\n  name: string;\n  handle?: FileSystemHandle;\n};\n\nexport async function loadFromFile() {\n  const blob = await fileOpen({\n    description: \"My bookmarks file\",\n    extensions: [\".mbms\"],\n  });\n  return {\n    state: upgradeState(JSON.parse(await blob.text())),\n    name: blob.name,\n    handle: blob.handle,\n  };\n}\n","import { Icon } from \"@chakra-ui/icons\";\nimport {\n  Box,\n  Checkbox,\n  Collapse,\n  Container,\n  Heading,\n  HStack,\n  IconButton,\n  Input,\n  Link,\n  Text,\n  useToast,\n  VStack,\n} from \"@chakra-ui/react\";\nimport { FileSystemHandle } from \"browser-nativefs\";\nimport { matchSorter } from \"match-sorter\";\nimport React, { useEffect, useMemo, useReducer, useState } from \"react\";\nimport { FaFileAlt, FaFileDownload } from \"react-icons/fa\";\nimport { GoMarkGithub } from \"react-icons/go\";\n\nimport { BookmarkId, BookmarkType } from \"./bookmark\";\nimport { CreateBookmarkButton } from \"./BookmarkForm\";\nimport { BookmarkView } from \"./BookmarkView\";\nimport { AppState } from \"./storage\";\nimport { loadFromFile, saveToFile } from \"./storage/file-system-storage\";\n\ntype AppAction =\n  | { type: \"NewBookmark\"; payload: BookmarkType }\n  | { type: \"UpdateBookmark\"; payload: BookmarkType }\n  | { type: \"DeleteBookmark\"; payload: BookmarkId }\n  | { type: \"SetState\"; payload: AppState };\n\nfunction appReducer(state: AppState, action: AppAction): AppState {\n  switch (action.type) {\n    case \"NewBookmark\":\n      return {\n        ...state,\n        bookmarks: state.bookmarks.concat(action.payload),\n      };\n    case \"UpdateBookmark\": {\n      const updatedBookmarkIndex = state.bookmarks.findIndex(\n        (b) => b.id === action.payload.id\n      );\n      const updatedBookmarks: BookmarkType[] = [\n        ...state.bookmarks.slice(0, updatedBookmarkIndex),\n        action.payload,\n        ...state.bookmarks.slice(updatedBookmarkIndex + 1),\n      ];\n      return {\n        ...state,\n        bookmarks: updatedBookmarks,\n      };\n    }\n    case \"DeleteBookmark\":\n      return {\n        ...state,\n        bookmarks: state.bookmarks.filter((b) => b.id !== action.payload),\n      };\n    case \"SetState\":\n      return action.payload;\n  }\n}\n\nfunction App({\n  initialState,\n  onStateChange,\n}: {\n  initialState: AppState;\n  onStateChange(state: AppState): void;\n}) {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  const [filter, setFilterValue] = useState(\"\");\n  const [fileHandle, setFileHandle] = useState<FileSystemHandle>();\n  const [autoSaveIsEnabled, setAutoSaveEnabled] = useState(false);\n\n  const toast = useToast();\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      onStateChange(state);\n    }, 100);\n    return () => clearTimeout(id);\n  }, [onStateChange, state]);\n\n  useEffect(() => {\n    if (autoSaveIsEnabled) {\n      saveToFile(state, fileHandle?.name, fileHandle).catch((ex) => {\n        if (ex.code !== DOMException.ABORT_ERR) {\n          toast({\n            title: \"Error\",\n            description: ex.message,\n            status: \"error\",\n            isClosable: true,\n          });\n        }\n      });\n    }\n  }, [autoSaveIsEnabled, fileHandle, state, toast]);\n\n  const { bookmarks } = state;\n  const sortedBookmarks = useMemo(\n    () =>\n      matchSorter(\n        bookmarks.slice().sort((a, b) => (a.updatedAt < b.updatedAt ? -1 : 1)),\n        filter,\n        { keys: [\"name\", \"tags\", \"description\"] }\n      ),\n    [filter, bookmarks]\n  );\n\n  async function handleFileOpen() {\n    try {\n      const file = await loadFromFile();\n      setFileHandle(file.handle);\n      dispatch({ type: \"SetState\", payload: file.state });\n    } catch (ex) {\n      if (ex.code !== DOMException.ABORT_ERR) {\n        toast({\n          title: \"Error\",\n          description: ex.message,\n          status: \"error\",\n          isClosable: true,\n        });\n      }\n    }\n  }\n\n  async function handleFileSave() {\n    try {\n      const result = await saveToFile(state, fileHandle?.name, fileHandle);\n      setFileHandle(result.fileHandle);\n      toast({\n        title: \"Saved\",\n        description: \"Bookmarks saved to \" + result.fileHandle.name,\n        status: \"success\",\n        duration: 2000,\n        isClosable: true,\n      });\n    } catch (ex) {\n      if (ex.code !== DOMException.ABORT_ERR) {\n        toast({\n          title: \"Error\",\n          description: ex.message,\n          status: \"error\",\n          isClosable: true,\n        });\n      }\n    }\n  }\n\n  return (\n    <Container py={8}>\n      <Box\n        as=\"header\"\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mb={2}\n      >\n        <Heading as=\"h1\">My bookmarks.</Heading>\n        <HStack>\n          <IconButton\n            aria-label=\"Open file\"\n            title=\"Open file\"\n            icon={<Icon as={FaFileAlt} />}\n            onClick={handleFileOpen}\n          />\n          <IconButton\n            aria-label=\"Save to file\"\n            title=\"Save to file\"\n            icon={<Icon as={FaFileDownload} />}\n            onClick={handleFileSave}\n          />\n          <CreateBookmarkButton\n            onBookmarkCreate={(bookmark) => {\n              dispatch({ type: \"NewBookmark\", payload: bookmark });\n            }}\n          />\n        </HStack>\n      </Box>\n      <Collapse in={Boolean(fileHandle)} animateOpacity>\n        {fileHandle && (\n          <Box display=\"flex\" justifyContent=\"space-between\" pb={2}>\n            <Text>{fileHandle.name}</Text>\n            <Checkbox\n              checked={autoSaveIsEnabled}\n              onChange={(e) => setAutoSaveEnabled(e.target.checked)}\n            >\n              Autosave\n            </Checkbox>\n          </Box>\n        )}\n      </Collapse>\n      <Input\n        placeholder=\"Search\"\n        value={filter}\n        onChange={(e) => setFilterValue(e.target.value)}\n        mb={8}\n        mt={8}\n      />\n      {sortedBookmarks.length === 0 && (\n        <Box textAlign=\"center\" color=\"gray.500\">\n          No bookmarks yet. Let's add the first bookmark!\n        </Box>\n      )}\n      <VStack spacing={4} align=\"stretch\">\n        {sortedBookmarks.map((bookmark) => (\n          <BookmarkView\n            key={bookmark.id}\n            bookmark={bookmark}\n            onBookmarkUpdate={(bookmark) =>\n              dispatch({ type: \"UpdateBookmark\", payload: bookmark })\n            }\n            onBookmarkDelete={(id) =>\n              dispatch({ type: \"DeleteBookmark\", payload: id })\n            }\n          />\n        ))}\n      </VStack>\n      <Box as=\"footer\" mt={10} display=\"flex\" justifyContent=\"flex-end\">\n        <Link\n          href=\"https://github.com/nanot1m/my-bookmarks-app\"\n          isExternal\n          color=\"gray.500\"\n        >\n          <Icon as={GoMarkGithub} /> nanot1m\n        </Link>\n      </Box>\n    </Container>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { APP_VERSION, getInitialState, IStorageProvider } from \"./index\";\n\nconst LS_KEY = \"MyBookmarksAppState\";\n\nexport const localStorageProvider: IStorageProvider = {\n  async getState() {\n    const strState = localStorage.getItem(LS_KEY);\n    return strState ? JSON.parse(strState) : getInitialState(APP_VERSION);\n  },\n  setState(state) {\n    localStorage.setItem(LS_KEY, JSON.stringify(state));\n  },\n};\n","import { ChakraProvider, ColorModeScript, extendTheme } from \"@chakra-ui/react\";\nimport React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { createBookmark } from \"./bookmark\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { APP_VERSION, createStorageManager, getInitialState } from \"./storage\";\nimport { localStorageProvider } from \"./storage/local-storage\";\n\nconst storageManager = createStorageManager(localStorageProvider);\n\nstorageManager.getState().then((state) => {\n  const customTheme = extendTheme({\n    config: {\n      useSystemColorMode: true,\n    },\n  });\n\n  ReactDOM.render(\n    <StrictMode>\n      <ColorModeScript />\n      <ChakraProvider theme={customTheme}>\n        <App initialState={state} onStateChange={storageManager.setState} />\n      </ChakraProvider>\n    </StrictMode>,\n    document.getElementById(\"root\")\n  );\n});\n\ndeclare global {\n  interface Window {\n    setTestBookmarks(): void;\n  }\n}\n\nwindow.setTestBookmarks = function () {\n  const myBookmarks = [\n    createBookmark({\n      name: \"google\",\n      url: \"https://www.google.com\",\n      description: \"big search engine\",\n      tags: [\"google\", \"search\"],\n    }),\n    createBookmark({\n      name: \"instagram\",\n      url: \"https://www.instagram.com/\",\n      description: \"share photoes and videos\",\n      tags: [\"photo\", \"video\", \"image\", \"social\", \"media\"],\n    }),\n    createBookmark({\n      name: \"youtube\",\n      url: \"https://www.youtube.com\",\n      tags: [\"google\", \"video\"],\n    }),\n  ];\n\n  localStorageProvider.setState({\n    ...getInitialState(APP_VERSION),\n    bookmarks: myBookmarks,\n  });\n  window.location.reload();\n};\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}