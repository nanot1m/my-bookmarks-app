(this["webpackJsonpmy-notes-app"]=this["webpackJsonpmy-notes-app"]||[]).push([[0],{98:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n(44),i=n.n(c),o=n(5),s=n(28),u=n(120),b=n(124),l=n(121),j=n(109),d=n(112),m=n(118),O=n(125),p=n(69),h=n(111),x=n(113),f=n(114);function k(e){var t=e.bookmark;return Object(r.jsxs)(j.a,{border:"1px",borderColor:"gray.200",borderRadius:8,px:4,py:2,children:[Object(r.jsx)(h.a,{isExternal:!0,href:t.url,children:Object(r.jsx)(d.a,{as:"h3",size:"m",children:t.name})}),Object(r.jsx)(x.a,{mb:1,children:t.description}),Object(r.jsx)(O.a,{children:t.tags.map((function(e){return Object(r.jsx)(f.a,{size:"sm",children:e},e)}))})]})}var g=n(126),v=n(117),w=n(123),S=n(119),y=n(74),C=n(127),F=n(76),N=n(29),R=n.n(N),B=n(39),I=R.a.mark(M),L=R.a.mark(T);function M(e){var t,n,r,a;return R.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=new Set,n=Object(B.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=13;break}if(a=r.value,!t.has(a)){c.next=8;break}return c.abrupt("continue",11);case 8:return c.next=10,a;case 10:t.add(a);case 11:c.next=4;break;case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(2),n.e(c.t0);case 18:return c.prev=18,n.f(),c.finish(18);case 21:case"end":return c.stop()}}),I,null,[[2,15,18,21]])}function T(e,t){var n,r,a;return R.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=Object(B.a)(t),c.prev=1,n.s();case 3:if((r=n.n()).done){c.next=9;break}return a=r.value,c.next=7,e(a);case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),n.e(c.t0);case 14:return c.prev=14,n.f(),c.finish(14);case 17:case"end":return c.stop()}}),L,null,[[1,11,14,17]])}function q(e){var t,n=e.name,r=e.url,a=e.description,c=void 0===a?"":a,i=e.tags,o=void 0===i?[]:i;return{id:Object(F.a)(),url:r,name:n,description:c,tags:(t=M(T((function(e){return e.toLowerCase()}),o)),Array.from(t))}}var A=n(56),J=n(24),z=n(115),D=n(116);var E={Form:function(e){return Object(r.jsx)(A.b,{initialValues:e.initialValues,onSubmit:e.onSubmit,validate:e.validate,render:function(t){var n=t.handleSubmit;return Object(r.jsx)("form",{onSubmit:n,children:e.children})}})},Field:function(e){return Object(r.jsx)(A.a,{name:e.name,render:function(t){var n=t.input,a=t.meta;return Object(r.jsxs)(J.a,{id:e.id,isRequired:e.isRequired,isInvalid:a.touched&&a.error,children:[Object(r.jsx)(z.a,{children:e.label}),console.log({meta:a,input:n}),e.render(n),Object(r.jsxs)(D.b,{children:[Object(r.jsx)(D.a,{})," ",a.error]})]})}})}},V=E.Form,P=E.Field,U=function(e){var t,n,r={};return 0===((null===(t=e.name)||void 0===t?void 0:t.trim())||"").length&&(r.name="Name can not be empty"),0===((null===(n=e.url)||void 0===n?void 0:n.trim())||"").length&&(r.url="URL can not be empty"),console.log(r),r};function G(e){var t=e.onNewBookmark,n=Object(g.a)(),c=n.onClose,i=n.onOpen,o=n.isOpen,u=Object(a.useRef)(null);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v.a,{size:"sm","aria-label":"New bookmakr",icon:Object(r.jsx)(C.a,{}),onClick:i}),Object(r.jsxs)(w.a,{isOpen:o,onClose:c,children:[Object(r.jsx)(w.g,{}),Object(r.jsx)(V,{onSubmit:function(e){t(q({name:e.name,description:e.description,url:e.url,tags:e.tags.split(/[\s,]+/)})),c()},initialValues:{description:"",name:"",tags:"",url:""},validate:U,children:Object(r.jsxs)(w.d,{children:[Object(r.jsx)(w.f,{children:"Add bookmark"}),Object(r.jsx)(w.c,{}),Object(r.jsx)(w.b,{children:Object(r.jsxs)(O.b,{children:[Object(r.jsx)(P,{name:"name",label:"Name",id:"bookmark-name",isRequired:!0,render:function(e){return Object(r.jsx)(m.a,Object(s.a)({ref:u},e))}}),Object(r.jsx)(P,{name:"url",label:"URL",id:"bookmark-url",isRequired:!0,render:function(e){return Object(r.jsx)(m.a,Object(s.a)({},e))}}),Object(r.jsx)(P,{name:"description",label:"Description",id:"bookmark-description",render:function(e){return Object(r.jsx)(S.a,Object(s.a)({},e))}}),Object(r.jsx)(P,{name:"tags",label:"Description",id:"bookmark-tags",render:function(e){return Object(r.jsx)(S.a,Object(s.a)({},e))}})]})}),Object(r.jsxs)(w.e,{children:[Object(r.jsx)(y.a,{mr:3,onClick:c,children:"Cancel"}),Object(r.jsx)(y.a,{colorScheme:"blue",type:"submit",children:"Add"})]})]})})]})]})}var H=Object(u.a)({config:{useSystemColorMode:!0}});function K(e,t){switch(t.type){case"NewBookmark":return Object(s.a)(Object(s.a)({},e),{},{bookmarks:e.bookmarks.concat(t.payload)})}}var Q=function(e){var t=e.initialState,n=e.onStateChange,c=Object(a.useReducer)(K,t),i=Object(o.a)(c,2),s=i[0],u=i[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),f=x[0],g=x[1];Object(a.useEffect)((function(){var e=setTimeout((function(){n(s)}),100);return function(){return clearTimeout(e)}}),[n,s]);var v=s.bookmarks,w=Object(a.useMemo)((function(){return Object(p.a)(v,f,{keys:["name","tags","description"]})}),[f,v]);return Object(r.jsx)(b.a,{theme:H,children:Object(r.jsxs)(l.a,{py:8,children:[Object(r.jsxs)(j.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:12,children:[Object(r.jsx)(d.a,{as:"h1",children:"My bookmarks."}),Object(r.jsx)(G,{onNewBookmark:function(e){u({type:"NewBookmark",payload:e})}})]}),Object(r.jsx)(m.a,{placeholder:"Search",value:f,onChange:function(e){return g(e.target.value)},mb:8}),Object(r.jsx)(O.b,{spacing:4,align:"stretch",children:w.map((function(e){return Object(r.jsx)(k,{bookmark:e},e.id)}))})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},X=n(122),Y=n(73);var Z="MyBookmarksAppState",$={getState:function(){return Object(Y.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(Z),e.abrupt("return",t?JSON.parse(t):{bookmarks:[]});case 2:case"end":return e.stop()}}),e)})))()},setState:function(e){localStorage.setItem(Z,JSON.stringify(e))}};$.getState().then((function(e){i.a.render(Object(r.jsxs)(a.StrictMode,{children:[Object(r.jsx)(X.a,{}),Object(r.jsx)(Q,{initialState:e,onStateChange:$.setState})]}),document.getElementById("root"))})),window.setTestBookmarks=function(){var e=[q({name:"google",url:"https://www.google.com",description:"big search engine",tags:["google","search"]}),q({name:"instagram",url:"https://www.instagram.com/",description:"share photoes and videos",tags:["photo","video","image","social","media"]}),q({name:"youtube",url:"https://www.youtube.com",tags:["google","video"]})];$.setState({bookmarks:e}),window.location.reload()},W()}},[[98,1,2]]]);
//# sourceMappingURL=main.c1a43c20.chunk.js.map